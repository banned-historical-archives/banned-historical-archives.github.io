(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[817],{1878:(e,n,t)=>{"use strict";t.d(n,{M:()=>o});var r=t(1952),i=t(4848);function o(e){var n=e.diff;return n?(0,i.jsx)(i.Fragment,{children:n.map(function(e,n){return(0,i.jsx)(r.A,{variant:"body1",sx:{margin:.5},children:e.map(function(e,n){return(0,i.jsx)("span",{style:{color:1===e[0]?"green":-1===e[0]?"red":"inherit"},children:e[1]},n)})},n)})}):null}},4976:(e,n,t)=>{"use strict";t.d(n,{A:()=>N});var r=t(2819),i=t(6540),o=t(3556),s=t(8967),a=t(5703),c=t(7500),l=t(6043),u=t(4104),d=t(2062),h=t(8495),f=t(7239),x=t(404),p=t(1801),m=t(8348),v=t(5956),g=t(1952),j=t(3156),y=t(1423),A=t(574),w=t(6715),b=t(5315),C=t(7400),k=t(7585),S=t(6860),R=t(4848),E=t(7836),M=(0,s.Ay)("div")(function(e){var n=e.theme;return(0,o.A)({position:"relative",borderRadius:n.shape.borderRadius,backgroundColor:(0,a.X4)(n.palette.common.white,.15),"&:hover":{backgroundColor:(0,a.X4)(n.palette.common.white,.25)},marginRight:n.spacing(2),marginLeft:0,width:"100%"},n.breakpoints.up("sm"),{marginLeft:n.spacing(3),width:"auto"})}),_=(0,s.Ay)("div")(function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}}),O=(0,s.Ay)(C.Ay)(function(e){var n=e.theme;return{color:"inherit","& .MuiInputBase-input":(0,o.A)({padding:n.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(n.spacing(4),")"),transition:n.transitions.create("width"),width:"100%"},n.breakpoints.up("md"),{width:"20ch"})}}),I=[{name:"首页",path:"/"},{name:"文档",path:"/articles"},{name:"音乐",path:"/music"},{name:"图库",path:"/gallery"}];function P(){var e=(0,w.useRouter)(),n=(0,i.useState)(""),t=n[0],o=n[1],s=(0,i.useState)(!1),a=s[0],C=s[1],P=function(){C(!a)},L=(0,R.jsx)(p.A,{onClick:P,sx:{textAlign:"center"},children:(0,R.jsx)(c.A,{children:I.map(function(e){return(0,R.jsx)(l.Ay,{disablePadding:!0,children:(0,R.jsx)(u.A,{sx:{textAlign:"center"},href:e.path,target:"_blank",children:(0,R.jsx)(d.A,{primary:e.name})})},e.name)})})});return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(x.A,{position:"static",children:(0,R.jsx)(j.A,{maxWidth:"xl",children:(0,R.jsxs)(v.A,{disableGutters:!0,children:[(0,R.jsxs)(r.A,{sx:{position:"relative",ml:1,transform:"translateY(4px)"},children:[(0,R.jsx)(h.A,{sx:{width:20,position:"absolute",bottom:"50%",left:"50%",transform:"translateX(-50%)"}}),(0,R.jsx)(A.A,{})]}),(0,R.jsx)(g.A,{variant:"h6",noWrap:!0,component:"a",sx:{ml:1,mr:2,fontWeight:700,letterSpacing:".3rem",textDecoration:"none",cursor:"pointer"},style:{color:"white"},href:"/",onClick:function(){return e.push("/")},children:"和谐历史档案馆"}),(0,R.jsxs)(M,{sx:{display:{xs:"none",sm:"none",md:"flex",lg:"flex",xl:"flex"}},children:[(0,R.jsx)(_,{children:(0,R.jsx)(S.A,{})}),(0,R.jsx)(O,{placeholder:"全站搜索",onKeyDown:function(e){if("Enter"===e.key){var n;if(null!==(n=E)&&void 0!==E&&null!==(n=n.env)&&void 0!==n&&n.LOCAL_SEARCH_ENGINE){window.open("".concat(location.protocol,"//").concat(location.host,"/search?keyword=")+encodeURIComponent(t),"_blank");return}window.open("https://www.google.com/search?q="+encodeURIComponent("site:banned-historical-archives.github.io "+t),"_blank")}},value:t,onChange:function(e){return o(e.target.value)},inputProps:{"aria-label":"search"}})]}),(0,R.jsx)(r.A,{sx:{flex:1}}),(0,R.jsxs)(r.A,{sx:{display:{xs:"none",sm:"flex"}},direction:"row",justifyContent:"flex-end",children:[I.map(function(n){var t=n.name,r=n.path;return(0,R.jsx)(y.A,{sx:{color:"white"},onClick:function(){return e.push(r)},children:t},r)}),(0,R.jsxs)(y.A,{href:"https://github.com/banned-historical-archives/banned-historical-archives.github.io/issues",target:"_blank",sx:{color:"white"},children:[(0,R.jsx)(b.A,{sx:{mr:1}}),"讨论"]})]}),(0,R.jsx)(k.A,{size:"small",edge:"start",color:"inherit","aria-label":"menu",sx:{display:{xs:"flex",sm:"none"}},onClick:P,children:(0,R.jsx)(f.A,{})})]})})}),(0,R.jsx)(p.A,{component:"nav",children:(0,R.jsx)(m.Ay,{variant:"temporary",anchor:"right",open:a,onClose:P,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},children:L})})]})}function L(){return null}var T=t(3815);function N(e){var n=e.children,t=(0,i.useState)(!1),o=t[0],s=t[1],a=(0,w.useRouter)();return(0,i.useEffect)(function(){var e=function(e){s(!0)},n=function(){s(!1)};return a.events.on("routeChangeStart",e),a.events.on("routeChangeComplete",n),a.events.on("routeChangeError",n),function(){a.events.off("routeChangeStart",e),a.events.off("routeChangeComplete",n),a.events.off("routeChangeError",n)}},[a]),(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(r.A,{sx:{position:"absolute",height:"100%",width:"100%"},direction:"column",children:[(0,R.jsx)(P,{}),o?(0,R.jsxs)(r.A,{spacing:1,p:2,children:[(0,R.jsx)(T.A,{variant:"text",sx:{fontSize:"1rem"}}),(0,R.jsx)(T.A,{variant:"rectangular",height:60}),(0,R.jsx)(T.A,{variant:"rectangular",height:60}),(0,R.jsx)(T.A,{variant:"rectangular",height:60}),(0,R.jsx)(T.A,{variant:"rectangular",height:60})]}):(0,R.jsx)("main",{style:{flex:1,position:"relative",overflow:"hidden"},children:n}),(0,R.jsx)(L,{})]})})}},1854:(e,n,t)=>{"use strict";t.d(n,{A:()=>c});var r=t(4379),i=t(1952),o=t(6540),s=t(2516),a=t(4848);function c(e){var n=e.tags,t=e.onClick,c=(0,o.useState)(null),l=c[0],u=c[1],d=(0,o.useState)(""),h=d[0],f=d[1],x=function(){u(null)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Ay,{open:!!l,anchorEl:l,disableRestoreFocus:!0,sx:{pointerEvents:"none",marginTop:"10px"},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,a.jsx)(i.A,{sx:{p:1},children:h})}),n.map(function(e){return(0,a.jsx)(r.A,{onMouseEnter:function(n){f(e.type),u(n.currentTarget)},onMouseLeave:x,onClick:function(){t?t(e):window.open("/articles?tag=".concat(encodeURIComponent(e.name)),"_blank")},sx:{m:.3,lineHeight:"34px",float:"left"},label:e.name},e.type+"##"+e.name)})]})}},7771:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>Y});var r=t(8242),i=t(3556),o=t(3439),s=t(4756),a=t.n(s),c=t(7007),l=t(6540),u=t(5610),d=t(938),h=t(3368),f=t.n(h),x=t(2189),p=t(2516),m=t(7982),v=t(9946),g=t(4976),j=t(6835),y=t(4303),A=t(6455),w=t(1801),b=t(7524),C=t(9056),k=t(6774),S=t(9639),R=t(1423),E=t(9623),M=t(5912),_=t(2819),O=t(1952),I=t(8036),P=t(1878),L=t(3815),T=t(1854),N=t(3323),F=t(4848);function W(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?W(Object(t),!0).forEach(function(n){(0,i.A)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var z=new c.EventEmitter;z.setMaxListeners(9876543);var D=function(){var e=(0,o.A)(a().mark(function e(n,t){var r,i;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://raw.githubusercontent.com/banned-historical-archives/banned-historical-archives".concat(t,"/parsed/").concat(n.substr(0,3),"/").concat(n,"/").concat(n,".metadata"),e.next=3,fetch(r);case 3:return e.next=5,e.sent.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}();function X(e){var n=e.id,t=e.archiveId,r=e.name,i=(0,l.useState)(0),o=i[0],s=i[1],a=(0,l.useState)(0),c=a[0],u=a[1],d=(0,l.useState)(),h=d[0],f=d[1],p=(0,l.useState)(!0),m=p[0],g=p[1];(0,l.useEffect)(function(){D(n,t).then(function(e){g(!1),f(e),u(e.lyrics.length-1)})},[]);var j=(0,l.useMemo)(function(){var e;return null===(e=(null==h?void 0:h.lyrics[o])||(null==h?void 0:h.lyrics[0]))||void 0===e?void 0:e.content.split("\n")},[o,h]),y=(0,l.useMemo)(function(){var e;return null===(e=(null==h?void 0:h.lyrics[c])||(null==h?void 0:h.lyrics[0]))||void 0===e?void 0:e.content.split("\n")},[c,h]),A=(0,l.useMemo)(function(){if(!h)return[];for(var e=(null==h?void 0:h.lyrics[o])||(null==h?void 0:h.lyrics[0]),n=(null==h?void 0:h.lyrics[c])||(null==h?void 0:h.lyrics[0]),t=e.content.split("\n"),r=n.content.split("\n"),i=0,s=Math.max(t.length,r.length),a=[];i<s;){var l=t[i]||"",u=r[i]||"";a.push(new x.diff_match_patch().diff_main(l,u)),++i}return a},[o,c,h]);return m?(0,F.jsxs)(_.A,{padding:"20px",spacing:"10px",width:"800px",height:"200px",children:[(0,F.jsx)(L.A,{variant:"rectangular",width:"100%",height:20}),(0,F.jsx)(L.A,{variant:"rectangular",width:"100%",height:20}),(0,F.jsx)(L.A,{variant:"rectangular",width:"100%",height:20}),(0,F.jsx)(L.A,{variant:"rectangular",width:"100%",height:20})]}):(0,F.jsxs)(_.A,{sx:{flex:1,mx:"auto",p:"20px",width:"800px",maxHeight:"500px"},children:[(0,F.jsx)(O.A,{variant:"subtitle1",sx:{mb:2},children:"演唱/演奏版本："}),(0,F.jsx)(_.A,{children:null==h?void 0:h.lyrics.map(function(e,i){return(0,F.jsx)(_.A,{sx:{display:"inline"},children:e.audios.map(function(o,s){var a="".concat(null==h?void 0:h.name,"-").concat(e.version,"-").concat(o.artists.map(function(e){return"".concat(e.name,"(").concat(e.type,")")}).join(" ")||"未知");return(0,F.jsxs)(_.A,{direction:"row",children:[(0,F.jsx)(R.A,{sx:{justifyContent:"start",flex:1},startIcon:(0,F.jsx)(v.A,{}),onClick:function(){z.emit("musicChanged",n,r,t),z.emit("lyricChanged",e),z.emit("artistChanged",o.artists),z.emit("musicStart",o.url)},children:a}),(0,F.jsx)("a",{href:e.audios[0].url,download:!0,children:(0,F.jsx)(R.A,{type:"button",children:"下载"})})]},i+"-"+s)})},i)})}),(0,F.jsx)(M.A,{sx:{mt:2}}),null!=h&&h.lyrics.length&&(null==h?void 0:h.lyrics.length)>1?(0,F.jsx)(O.A,{variant:"subtitle1",sx:{mt:2,mb:2},children:"歌词对比："}):null,(0,F.jsxs)(_.A,{direction:"row",spacing:2,children:[(0,F.jsxs)(_.A,{sx:{flex:1},children:[(0,F.jsx)(S.A,{size:"small",value:null!=h&&h.lyrics[o]?o:0,label:"版本",sx:{mb:1,display:null!=h&&h.lyrics.length&&(null==h?void 0:h.lyrics.length)>1?"block":"none"},onChange:function(e){s(parseInt(e.target.value))},children:null==h?void 0:h.lyrics.map(function(e,n){return(0,F.jsx)(E.A,{value:n,children:e.version},n)})}),(0,F.jsx)(C.A,{sx:{p:"20px"},children:null==j?void 0:j.map(function(e,n){return(0,F.jsx)(O.A,{children:e},n)})})]}),null!=h&&h.lyrics.length&&(null==h?void 0:h.lyrics.length)>1?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(_.A,{sx:{flex:1},children:[(0,F.jsx)(S.A,{size:"small",value:null!=h&&h.lyrics[c]?c:0,label:"版本",sx:{mb:1},onChange:function(e){u(parseInt(e.target.value))},children:null==h?void 0:h.lyrics.map(function(e,n){return(0,F.jsx)(E.A,{value:n,children:e.version},n)})}),(0,F.jsx)(C.A,{sx:{p:"20px"},children:null==y?void 0:y.map(function(e,n){return(0,F.jsx)(O.A,{children:e},n)})})]}),(0,F.jsx)(_.A,{sx:{flex:1,pt:"48px"},children:(0,F.jsx)(C.A,{sx:{p:"20px"},children:(0,F.jsx)(P.M,{diff:A})})})]}):null]})]})}var H={id:""};function B(e){var n=e.row,t=(0,l.useRef)(null),r=(0,l.useState)(H.id==n.id),i=r[0],o=r[1];return(0,l.useEffect)(function(){var e=function(e){e==n.id?o(!0):o(!1)};return z.on("musicChanged",e),function(){z.off("musicChanged",e)}},[n]),(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{style:{cursor:"pointer",color:"#cc0000",padding:"5px"},onClick:function(e){o(!i)},ref:t,children:n.name}),(0,F.jsx)(p.Ay,{open:i,marginThreshold:10,anchorEl:function(){return t.current},onClose:function(){o(!1)},anchorOrigin:{vertical:"bottom",horizontal:"left"},style:{overflow:"scroll"},children:i?(0,F.jsx)(X,{id:n.id,name:n.name,archiveId:n.archiveId}):null})]})}var U=function(e){return e[e.all=0]="all",e[e.shuffle=1]="shuffle",e[e.one=2]="one",e}(U||{});function V(e){var n=e.apiRef,t=(0,l.useState)(!1),r=t[0],i=t[1],s=(0,l.useState)(U.shuffle),c=s[0],u=s[1],d=(0,l.useState)(""),h=d[0],f=d[1],x=(0,l.useState)(""),p=x[0],g=x[1],S=(0,l.useState)(""),R=S[0],E=S[1],M=(0,l.useState)(0),_=M[0],P=M[1],L=(0,l.useState)(0),T=L[0],N=L[1],W=(0,l.useRef)(null),G=(0,l.useRef)({width:0,left:0}),X=(0,l.useRef)("");(0,l.useEffect)(function(){var e;function n(e){g(e.version)}function t(e){E(e.map(function(e){return"".concat(e.name,"(").concat(e.type,")")}).join(" "))}function r(e,n,t,r,i,o){z.emit("musicPause"),f(n),X.current=e,void 0!=r&&D(e,t).then(function(e){if(-1==r&&(r=Math.floor(Math.random()*e.lyrics.length)),z.emit("lyricChanged",e.lyrics[r]),void 0!=i){if(-1==i&&(i=Math.floor(Math.random()*e.lyrics[r].audios.length)),z.emit("artistChanged",e.lyrics[r].audios[i].artists),o)z.emit("musicStart",e.lyrics[r].audios[i].url);else{var n;null===(n=W.current)||void 0===n||n.setAttribute("src",e.lyrics[r].audios[i].url)}}})}function o(){var e;i(!1),null===(e=W.current)||void 0===e||e.pause()}function s(e){var n,t;i(!0),null===(n=W.current)||void 0===n||n.setAttribute("src",e),null===(t=W.current)||void 0===t||t.play().catch(function(){})}function a(e){P(e.target.currentTime/e.target.duration)}return z.on("musicPause",o),z.on("musicStart",s),z.on("artistChanged",t),z.on("musicChanged",r),z.on("lyricChanged",n),null===(e=W.current)||void 0===e||e.addEventListener("timeupdate",a),function(){var e;null===(e=W.current)||void 0===e||e.removeEventListener("timeupdate",a),z.off("musicPause",o),z.off("musicStart",s),z.off("artistChanged",t),z.off("musicChanged",r),z.off("lyricChanged",n)}},[]);var H=(0,l.useCallback)((0,o.A)(a().mark(function e(){var t,r,i,o,s,l,u;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c===U.one?null===(t=W.current)||void 0===t||t.play().catch(function(){}):c===U.all?(r=n.current.getSortedRowIds().filter(function(e){return n.current.state.visibleRowsLookup[e]}),i=n.current.getRowIndexRelativeToVisibleRows(X.current),r.length-1==i?i=0:i>=0?i++:i=0,o=n.current.getRow(r[i]),z.emit("musicChanged",o.id,o.name,o.archiveId,0,0,!0)):c===U.shuffle&&(l=Math.floor((s=Object.keys(n.current.state.visibleRowsLookup).filter(function(e){return n.current.state.visibleRowsLookup[e]})).length*Math.random()),u=n.current.getRow(s[l]),z.emit("musicChanged",u.id,u.name,u.archiveId,-1,-1,!0));case 1:case"end":return e.stop()}},e)})),[n,c]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("audio",{ref:W,onEnded:function(){H()},style:{position:"fixed",left:"100%"}}),(0,F.jsxs)(w.A,{sx:{bottom:30,right:30,height:320,position:"fixed",transform:"translateZ(0px)",flexGrow:1,zIndex:20},children:[(0,F.jsxs)(C.A,{sx:{p:2,pt:1,pb:1,pr:4,mr:-2,position:"absolute",bottom:44,transform:"translateY(50%)",zIndex:10,right:70,userSelect:"none"},onMouseEnter:function(e){var n=e.target.getBoundingClientRect().left;G.current={width:window.innerWidth-n-84,left:n}},onMouseMove:function(e){var n=G.current,t=n.width,r=n.left;N((e.pageX-r)/t)},onMouseLeave:function(e){N(0)},onClick:function(e){W.current&&(W.current.currentTime=T*W.current.duration)},children:[(0,F.jsxs)(O.A,{sx:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",width:{xs:"200px",sm:"auto"}},children:[h,"-",p,"-",R]}),(0,F.jsx)("div",{style:{position:"absolute",bottom:0,left:0,width:"".concat(100*T,"%"),background:"rgba(255,0,0,0.14)",height:"100%"}}),(0,F.jsx)("div",{style:{position:"absolute",bottom:0,left:0,width:"".concat(100*_,"%"),background:"rgba(255,0,0,0.14)",height:"100%"}})]}),(0,F.jsxs)(b.A,{ariaLabel:"player",sx:{position:"absolute",bottom:16,right:16},onClick:function(){if(r)z.emit("musicPause");else{var e;i(!0),null===(e=W.current)||void 0===e||e.play().catch(function(){})}},open:!0,onOpen:function(){},onClose:function(){},icon:r?(0,F.jsx)(I.A,{}):(0,F.jsx)(v.A,{}),children:[(0,F.jsx)(k.A,{icon:(0,F.jsx)(m.A,{}),onClick:function(e){e.stopPropagation(),H()},tooltipTitle:"下一首",open:!0,onOpen:function(){},onClose:function(){}}),(0,F.jsx)(k.A,{icon:(0,F.jsx)(A.A,{sx:{color:c===U.shuffle?"#cc0000":"inherit"}}),onClick:function(e){e.stopPropagation(),u(U.shuffle)},tooltipTitle:"随机播放"}),(0,F.jsx)(k.A,{icon:(0,F.jsx)(y.A,{sx:{color:c===U.all?"#cc0000":"inherit"}}),onClick:function(e){e.stopPropagation(),u(U.all)},tooltipTitle:"顺序播放"}),(0,F.jsx)(k.A,{icon:(0,F.jsx)(j.A,{sx:{color:c===U.one?"#cc0000":"inherit"}}),onClick:function(e){e.stopPropagation(),u(U.one)},tooltipTitle:"单曲循环"})]})]})]})}function Y(){var e=(0,l.useRef)({items:[]}),n=(0,l.useState)([]),t=n[0],i=n[1],s=(0,u.b)();(0,l.useEffect)(function(){(0,o.A)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/banned-historical-archives/banned-historical-archives.github.io/refs/heads/indexes/indexes/music.json");case 2:return e.next=4,e.sent.json();case 4:i(e.sent.map(function(e){return{id:e[0],name:e[1],archiveId:e[2],tags:e[4],nLyrics:e[3],composers:e[5],art_forms:e[9],lyricists:e[6],artists:e[7],sources:e[8]}})),setTimeout(function(){var e=s.current.getSortedRows()[0];z.emit("musicChanged",e.id,e.name,e.archiveId,0,0)},500);case 7:case"end":return e.stop()}},e)}))()},[]);var c=(0,l.useCallback)(function(n){return function(t){var i=G(G({},e.current),{},{items:[].concat((0,r.A)(e.current.items.filter(function(e){return e.field!=n})),[{id:n,field:n,operator:"contains",value:t.name}])});s.current.setFilterModel(i),e.current=i}},[]),h=(0,l.useMemo)(function(){return[{field:"name",headerName:"名称",minWidth:250,flex:1,valueGetter:function(e){return e},renderCell:function(e){return(0,F.jsx)(B,{row:e.row})}},{field:"composers",headerName:"作曲",minWidth:150,valueGetter:function(e,n){return n.composers.join(",")},renderCell:function(e){return(0,F.jsx)("div",{style:{overflow:"scroll",height:"100%"},children:(0,F.jsx)(T.A,{tags:e.row.composers.map(function(e){return{name:e,type:"composer"}}),onClick:c("composers")})})}},{field:"lyricists",headerName:"作词",valueGetter:function(e,n){return n.lyricists.join(",")},minWidth:150,renderCell:function(e){return(0,F.jsx)("div",{style:{overflow:"scroll",height:"100%"},children:(0,F.jsx)(T.A,{tags:e.row.lyricists.map(function(e){return{name:e,type:"lyricist"}}),onClick:c("lyricists")})})}},{field:"artists",headerName:"艺术家",valueGetter:function(e,n){return n.artists.map(function(e){return e.name}).join(",")},minWidth:150,renderCell:function(e){return(0,F.jsx)("div",{style:{overflow:"scroll",height:"100%"},children:(0,F.jsx)(T.A,{tags:e.row.artists.map(function(e){return{name:e.name,type:e.type}}),onClick:c("artists")})})}},{field:"sources",headerName:"来源",valueGetter:function(e,n){return n.sources.join(",")},minWidth:150,renderCell:function(e){return(0,F.jsx)("div",{style:{overflow:"scroll",height:"100%"},children:(0,F.jsx)(T.A,{tags:e.row.sources.map(function(e){return{name:e,type:"source"}}),onClick:c("sources")})})}},{field:"art_forms",headerName:"艺术形式",minWidth:150,valueGetter:function(e,n){return n.art_forms.join(",")},renderCell:function(e){return(0,F.jsx)("div",{style:{overflow:"scroll",height:"100%"},children:(0,F.jsx)(T.A,{tags:e.row.art_forms.map(function(e){return{name:e,type:"art_form"}}),onClick:c("art_forms")})})}},{field:"nLyrics",headerName:"歌词版本数量",minWidth:150,renderCell:function(e){return e.row.nLyrics}},{field:"tags",headerName:"标签",minWidth:200,valueGetter:function(e,n){return n.tags.join(",")},renderCell:function(e){return(0,F.jsx)("div",{style:{overflow:"scroll",height:"100%"},children:(0,F.jsx)(T.A,{tags:e.row.tags.map(function(e){return{name:e,type:"tag"}}),onClick:c("tags")})})}}]},[]);return(0,l.useEffect)(function(){function e(e){H.id=e;var n=s.current.getRowIndexRelativeToVisibleRows(e);try{s.current.scrollToIndexes({colIndex:0,rowIndex:n}),s.current.setExpandedDetailPanels([e])}catch(e){}}return z.on("musicChanged",e),function(){z.off("musicChanged",e)}},[]),(0,F.jsxs)(_.A,{p:2,sx:{height:"100%",overflow:"scroll"},children:[(0,F.jsx)(f(),{children:(0,F.jsx)("title",{children:"和谐历史档案馆 Banned Historical Archives"})}),(0,F.jsx)(O.A,{variant:"h4",sx:{mb:1},children:"音乐"}),(0,F.jsx)(V,{apiRef:s}),(0,F.jsx)(_.A,{sx:{flex:1,width:"100%",height:"500px"},children:(0,F.jsx)(d.C,{disableColumnFilter:!0,headerFilters:!0,apiRef:s,initialState:{sorting:{sortModel:[{field:"nLyrics",sort:"desc"}]}},onFilterModelChange:function(n){s.current.setFilterModel(n),e.current=n},getRowId:function(e){return e.id},rows:t,columns:h,localeText:N.g.components.MuiDataGrid.defaultProps.localeText,pageSizeOptions:[100]})})]})}Y.getLayout=function(e){return(0,F.jsx)(g.A,{children:e})}},5197:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/music",function(){return t(7771)}])}},e=>{var n=n=>e(e.s=n);e.O(0,[228,769,94,979,369,636,593,792],()=>n(5197)),_N_E=e.O()}]);