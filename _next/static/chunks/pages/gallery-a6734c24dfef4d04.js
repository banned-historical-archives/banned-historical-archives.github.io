(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18],{1916:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>y});var t=r(3439),i=r(4756),o=r.n(i),s=r(6540),a=r(3368),l=r.n(a),u=r(4976),c=r(1423),d=r(2819),h=r(1952),f=r(938),x=r(5536),m=r(4379),j=r(2516),p=r(4848);function w(e){var n=e.tags,r=(0,s.useState)(null),t=r[0],i=r[1],o=(0,s.useState)(""),a=o[0],l=o[1],u=function(){i(null)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.Ay,{open:!!t,anchorEl:t,disableRestoreFocus:!0,sx:{pointerEvents:"none"},anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,p.jsx)(h.A,{sx:{p:2},children:a})}),n.map(function(e){return(0,p.jsx)(m.A,{onMouseEnter:function(n){l(e.type),i(n.currentTarget)},onMouseLeave:u,sx:{m:.3},label:e.name},e.type+"##"+e.name)})]})}var v=r(3323),g=function(e){var n=e.url,r=(0,s.useState)(!1),t=r[0],i=r[1];return t?(0,p.jsx)("img",{alt:"",src:n,style:{width:"100%"}}):(0,p.jsx)(c.A,{onClick:function(){return i(!0)},children:"显示"})},N=[{field:"url",headerName:"预览",minWidth:350,flex:1,renderCell:function(e){return(0,p.jsx)(g,{url:e.row.url})}},{field:"name",headerName:"名称",minWidth:350,flex:1,renderCell:function(e){return(0,p.jsx)("div",{children:e.row.name})}},{field:"description",headerName:"描述",minWidth:150,flex:1,renderCell:function(e){return(0,p.jsx)("div",{children:e.row.description})}},{field:"source",headerName:"来源",flex:1,renderCell:function(e){return(0,p.jsx)("div",{children:e.row.source})}},{field:"dates",headerName:"时间",minWidth:150,flex:1,valueGetter:function(e,n){return n.year?[n.year||"----",(0,x.N2)(n.month,"--"),(0,x.N2)(n.day,"--")].filter(function(e){return e}).join("/"):"----/--/--"},renderCell:function(e){return(0,p.jsx)(d.A,{spacing:1,children:(0,p.jsx)(h.A,{variant:"caption",children:e.row.year?[e.row.year,(0,x.N2)(e.row.month),(0,x.N2)(e.row.day)].filter(function(e){return e}).join("/"):"----/--/--"})})}},{field:"tags",headerName:"标签",minWidth:150,flex:1,sortComparator:function(e,n){return e>n?1:-1},valueGetter:function(e){return e.map(function(e){return e.name}).join(",")},renderCell:function(e){return(0,p.jsx)("div",{style:{overflow:"visible"},children:(0,p.jsx)(w,{tags:e.row.tags})})}}];function y(){var e=(0,s.useState)([]),n=e[0],r=e[1];return(0,s.useEffect)(function(){(0,t.A)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,fetch("https://raw.githubusercontent.com/banned-historical-archives/banned-historical-archives.github.io/refs/heads/indexes/indexes/gallery.json");case 3:return e.next=5,e.sent.json();case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}},e)}))()},[]),(0,p.jsxs)(d.A,{p:2,sx:{height:"100%",overflow:"scroll"},children:[(0,p.jsx)(l(),{children:(0,p.jsx)("title",{children:"和谐历史档案馆 Banned Historical Archives"})}),(0,p.jsx)(h.A,{variant:"h4",sx:{mb:1},children:"图库"}),(0,p.jsx)(d.A,{sx:{flex:1,width:"100%",height:"500px"},children:(0,p.jsx)(f.C,{getRowId:function(e){return e.id},getRowHeight:function(){return"auto"},rows:n,columns:N,localeText:v.g.components.MuiDataGrid.defaultProps.localeText,pageSizeOptions:[100]})})]})}y.getLayout=function(e){return(0,p.jsx)(u.A,{children:e})}},4477:(e,n,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/gallery",function(){return r(1916)}])}},e=>{var n=n=>e(e.s=n);e.O(0,[200,228,769,94,979,570,143,636,593,792],()=>n(4477)),_N_E=e.O()}]);